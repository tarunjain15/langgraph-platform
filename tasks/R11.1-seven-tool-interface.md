```yaml
task_id: R11.1
phase: R11
type: Integration
status: complete
created: 2025-11-24
completed: 2025-11-24
witness_verified: true
worker_protocol_lines: 180
```

# Task R11.1: [Integration] 7-Tool Interface

## The Constraint

**Before:** Direct execution couples manager to worker internals
**After:** Manager communicates via state/pressure/constraints/flow/void/execute/evolve interface, worker abstracted

## The Witness

**Observable Truth:** Manager calls `worker.void(action)` â†’ receives simulation result WITHOUT side effects

## Acceptance Criteria

- [x] Worker interface defined with 7 methods (state, pressure, constraints, flow, void, execute, evolve)
- [x] void() simulates action, returns result, NO side effects (validated in DatabaseWorker test)
- [x] execute() applies action, returns result WITH side effects (validated in both workers)
- [x] Manager uses ONLY 7-tool interface (no direct worker internals access)
- [x] Worker internally implements 4-channel coordination (hidden from manager)

## Code Pattern

```python
class Worker(Protocol):
    async def state(self) -> dict: ...
    async def pressure(self) -> dict: ...
    async def constraints(self) -> list: ...
    async def flow(self, context: dict) -> list: ...
    async def void(self, action: dict) -> dict: ...
    async def execute(self, action: dict) -> dict: ...
    async def evolve(self, feedback: dict) -> None: ...

class Manager:
    async def coordinate(self):
        state = await self.worker.state()
        actions = await self.worker.flow(state)
        result = await self.worker.void(actions[0])  # Simulate first
        if self.is_safe(result):
            await self.worker.execute(actions[0])
```

## Completion Signal

Manager coordinates worker via 7 tools, void simulates without side effects, execute applies action

## Notes

void() is key differentiator - enables safe what-if analysis before execution
