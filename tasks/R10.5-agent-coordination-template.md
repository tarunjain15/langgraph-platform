```yaml
task_id: R10.5
phase: R10
type: Feature
status: complete
created: 2025-11-24
completed: 2025-11-24
witness_verified: true
template_lines: 650
```

# Task R10.5: [Feature] Agent Coordination Template

## The Constraint

**Before:** No template for 4-channel pattern, users must implement from scratch
**After:** `lgp create workflow --template agent_coordination` scaffolds complete 4-channel workflow

## The Witness

**Observable Truth:** Template command creates runnable workflow with 4 channels + 4 nodes in <2s

## Acceptance Criteria

- [x] templates/agent_coordination/workflow.py exists with full implementation (650 lines)
- [x] Template header documents 4-channel mental model (complete flow diagram)
- [x] Anti-patterns listed (7 anti-patterns documented with ❌)
- [x] Correct patterns shown (4 correct patterns with ✅, complete observe→intent→coordinate→execute flow)
- [x] CUSTOMIZE markers in State Schema, Node Logic, Graph Structure zones (30+ markers)
- [x] Reference links to sacred-core/01-the-project.md, 02-the-discipline.md, external-code-state-coordination.md
- [x] Workflow executable immediately after creation (tested, runs successfully)

## Code Pattern

```python
# Template header (similar to existing templates)
"""
Agent Coordination Template (⭐⭐⭐⭐ Expert)

MENTAL MODEL:
  4 Channels = Observe, Intent, Coordinate, Execute
  Nodes = ObserverNode, AgentNode, CoordinatorNode, ExecutorNode
  Flow = Observe → Plan → Coordinate → Execute → Loop
  Coordination = Topic (observation, intent, execution) + LastValue (coordination)

ANTI-PATTERNS:
  ❌ Agents execute directly (skip coordination)
  ❌ Coordinator not reading all intents
  ❌ Using LastValue for observation (loses events)

CORRECT PATTERNS:
  ✅ Observer mirrors external truth only
  ✅ Agent plans without executing
  ✅ Coordinator resolves all conflicts
  ✅ Executor logs to audit channel
"""
```

## Completion Signal

Template created, `lgp create test --template agent_coordination` works, workflow runs successfully

## Notes

Progressive learning path: basic → multi_agent → with_claude_code → agent_coordination
